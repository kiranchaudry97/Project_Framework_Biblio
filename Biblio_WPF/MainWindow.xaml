<!--
commit
Doel: MainWindow met thema-toggle, navigatie, wrappanel ,stackpanel ,grid layout en databinding.
-->
<Window x:Class="Biblio_WPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Biblio – Bibliotheekbeheer"
        Height="720" Width="1080"
        WindowStartupLocation="CenterScreen">

    <DockPanel LastChildFill="True">

        <!-- MENU -->
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="_Bestand">
                <MenuItem Header="_Inloggen" Click="OnOpenLogin"/>
                <MenuItem Header="_Profiel" Click="OnOpenProfile"
                          IsEnabled="{Binding Path=SecurityVm.IsAuthenticated, RelativeSource={RelativeSource AncestorType=Window}}"/>
                <MenuItem Header="_Wachtwoord wijzigen" Click="OnChangePassword"
                          IsEnabled="{Binding Path=SecurityVm.IsAuthenticated, RelativeSource={RelativeSource AncestorType=Window}}"/>
                <Separator/>
                <MenuItem Header="_Afmelden" Click="OnLogout"
                          IsEnabled="{Binding Path=SecurityVm.IsAuthenticated, RelativeSource={RelativeSource AncestorType=Window}}"/>
                <Separator/>
                <MenuItem Header="_Afsluiten" Click="OnExit"/>
            </MenuItem>

            <MenuItem Header="_Beheer"
                      Visibility="{Binding Path=SecurityVm.IsAdmin, RelativeSource={RelativeSource AncestorType=Window}, Converter={StaticResource BoolToVis}}">
                <MenuItem Header="Gebruikers &amp; Rollen" Click="OnManageUsers"/>
            </MenuItem>

            <MenuItem Header="_Openen"
                      IsEnabled="{Binding Path=SecurityVm.IsAuthenticated, RelativeSource={RelativeSource AncestorType=Window}}">
                <MenuItem Header="Boeken" Click="OnOpenBooks"/>
                <MenuItem Header="Leden" Click="OnOpenMembers"/>
                <MenuItem Header="Uitleningen" Click="OnOpenLoans"/>
                <MenuItem Header="Categorieën" Click="OnOpenCategories"/>
            </MenuItem>

        </Menu>

        <!-- Header (dock top) - thema toggle -->
        <Border DockPanel.Dock="Top"
                Background="{DynamicResource HeaderBrush}"
                Padding="10"
                BorderBrush="{DynamicResource BorderBrush}"
                BorderThickness="0,0,0,1">

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <!-- Right: theme toggle -->
                <!-- StackPanel -->
                <StackPanel Orientation="Horizontal"
                            VerticalAlignment="Center"
                            Grid.Column="1"
                            Margin="0,0,6,0">

                    <ToggleButton x:Name="ThemeToggleButton"
                                  Checked="OnThemeChecked"
                                  Unchecked="OnThemeUnchecked"
                                  ToolTip="Donker thema aan/uit"
                                  Background="Transparent"
                                  BorderBrush="Transparent">

                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <TextBlock x:Name="ThemeIcon"
                                       FontFamily="Segoe MDL2 Assets"
                                       Text="&#xE706;"
                                       Foreground="{DynamicResource ForegroundBrush}"
                                       FontSize="14"
                                       Margin="0,0,6,0"/>

                            <TextBlock Text="Weergave"
                                       Foreground="{DynamicResource ForegroundBrush}"
                                       VerticalAlignment="Center"/>
                        </StackPanel>

                    </ToggleButton>

                </StackPanel>

            </Grid>

        </Border>

        <!-- Main two-column layout -->
        <!-- Grid -->
        <Grid Background="{DynamicResource BackgroundBrush}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="220"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Left navigation pane -->
            <Border Grid.Column="0"
                    Background="{DynamicResource PanelBrush}"
                    BorderBrush="{DynamicResource BorderBrush}"
                    BorderThickness="0,0,1,0">

                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="12" Width="196"
                                IsEnabled="{Binding Path=SecurityVm.IsAuthenticated, RelativeSource={RelativeSource AncestorType=Window}}">

                        <TextBlock Text="Navigatie" FontWeight="SemiBold"
                                   Foreground="{DynamicResource ForegroundBrush}" Margin="4"/>

                        <Button Style="{StaticResource PrimaryButton}" Margin="0,6"
                                HorizontalContentAlignment="Left" Click="OnOpenBooks">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE8A5;" Margin="0,0,8,0"/>
                                <TextBlock Text="Boeken"/>
                            </StackPanel>
                        </Button>

                        <Button Style="{StaticResource PrimaryButton}" Margin="0,6"
                                HorizontalContentAlignment="Left" Click="OnOpenMembers">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE13D;" Margin="0,0,8,0"/>
                                <TextBlock Text="Leden"/>
                            </StackPanel>
                        </Button>

                        <Button Style="{StaticResource PrimaryButton}" Margin="0,6"
                                HorizontalContentAlignment="Left" Click="OnOpenLoans">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE7C3;" Margin="0,0,8,0"/>
                                <TextBlock Text="Uitleningen"/>
                            </StackPanel>
                        </Button>

                        <Button Style="{StaticResource PrimaryButton}" Margin="0,6"
                                HorizontalContentAlignment="Left" Click="OnOpenCategories">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontFamily="Segoe MDL2 Assets" Text="&#xE8EF;" Margin="0,0,8,0"/>
                                <TextBlock Text="Categorieën"/>
                            </StackPanel>
                        </Button>

                        <Separator Margin="0,12"/>

                        <TextBlock Text="Snelle acties"
                                   FontWeight="SemiBold"
                                   Foreground="{DynamicResource ForegroundBrush}"
                                   Margin="4"/>

                        <Button Content="Nieuw boek" Margin="0,6"
                                HorizontalContentAlignment="Left"
                                Click="OnOpenBooks"/>

                        <Button Content="Nieuw lid" Margin="0,6"
                                HorizontalContentAlignment="Left"
                                Click="OnOpenMembers"/>

                    </StackPanel>
                </ScrollViewer>
            </Border>

            <!-- Right content area -->
            <Grid Grid.Column="1">
                <Border Width="760" MaxWidth="980" Padding="36" CornerRadius="8"
                        Background="{DynamicResource BackgroundBrush}"
                        HorizontalAlignment="Center" VerticalAlignment="Center"
                        BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1"
                        Visibility="{Binding Path=SecurityVm.IsAuthenticated, RelativeSource={RelativeSource AncestorType=Window}, Converter={StaticResource BoolToVis}}">

                    <StackPanel>

                        <TextBlock Text="Welkom bij Biblio – Bibliotheekbeheer"
                                   FontSize="28"
                                   FontWeight="Bold"
                                   TextWrapping="Wrap"
                                   TextAlignment="Center"
                                   Foreground="{DynamicResource ForegroundBrush}"/>

                        <TextBlock Text="Beheer eenvoudig boeken, leden en uitleningen vanuit dit dashboard. Gebruik het menu of de navigatie aan de linkerkant om te starten."
                                   Margin="0,12,0,0"
                                   TextWrapping="Wrap"
                                   TextAlignment="Center"
                                   Foreground="{DynamicResource ForegroundBrush}"/>

                        <!-- Wrappanel -->
                        <WrapPanel Orientation="Horizontal"
                                   HorizontalAlignment="Center"
                                   Margin="0,20,0,0"
                                   ItemHeight="40"
                                   ItemWidth="160">

                            <Button Content="Boeken beheren"
                                    Style="{StaticResource PrimaryButton}"
                                    Click="OnOpenBooks"
                                    Margin="6,0"/>

                            <Button Content="Leden beheren"
                                    Style="{StaticResource PrimaryButton}"
                                    Click="OnOpenMembers"
                                    Margin="6,0"/>

                        </WrapPanel>

                    </StackPanel>

                </Border>
            </Grid>

        </Grid>

    </DockPanel>
</Window>
