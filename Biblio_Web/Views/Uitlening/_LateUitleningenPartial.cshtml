@model IEnumerable<Biblio_Models.Entiteiten.Lenen>
@inject Microsoft.Extensions.Localization.IStringLocalizer<Biblio_Web.SharedResource> L

<div id="late-uitleningen-container">
    <table class="table table-sm table-striped">
        <thead>
            <tr>
                <th>@L["ColumnTitle"]</th>
                <th>@L["Member"]</th>
                <th>@L["StartDate"]</th>
                <th>@L["DueDate"]</th>
                <th>@L["DaysLate"]</th>
            </tr>
        </thead>
        <tbody>
            @if (!Model.Any())
            {
                <tr><td colspan="5" class="text-muted">@L["NoLateLoans"]</td></tr>
            }
            else
            {
                foreach (var l in Model)
                {
                    var daysLate = (System.DateTime.Today - l.DueDate.Date).Days;
                    <tr>
                        <td>@(l.Boek?.Titel ?? "")</td>
                        <td>@(l.Lid != null ? l.Lid.Voornaam + " " + l.Lid.AchterNaam : "")</td>
                        <td>@l.StartDate.ToString("d")</td>
                        <td>@l.DueDate.ToString("d")</td>
                        <td class="text-danger">@Math.Max(0, daysLate)</td>
                    </tr>
                }
            }
        </tbody>
    </table>
</div>
